<!doctype html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>007 æˆ°å ´</title>
    <link rel="stylesheet" href="css/style.css" />
</head>
<body>
    <div id="gamePage" class="page active game-container">
        <div class="header-bar">
            <button class="btn-small" onclick="goToHome()">é€€å‡º</button>
            <span>å›åˆ: <span id="roundDisplay">1</span></span>
        </div>

        <div id="gameLog" class="log-box">éŠæˆ²é–‹å§‹ï¼è«‹é¸æ“‡å‹•ä½œ...</div>

        <div id="arena" class="arena"> </div>

        <div id="controls" class="controls-area">
            <h3>é¸æ“‡ä½ çš„å‹•ä½œï¼š</h3>
            <div class="action-buttons">
                <button class="btn-action" onclick="playerAction('charge')"> ğŸ– å……èƒ½<br /><small>(èƒ½é‡ +1)</small> </button>
                <button class="btn-action" onclick="playerAction('defend')"> ğŸ›¡ï¸ ä¿è­·æˆ‘<br /><small>(è€—1èƒ½)</small> </button>
                <button class="btn-action" onclick="playerAction('reflect')"> ğŸ¤ åå½ˆ<br /><small>(è€—1èƒ½)</small> </button>
                <button class="btn-action btn-danger" id="btnShoot" onclick="prepareAttack('shoot')" disabled> ğŸ”« æ‰“æ­»ä½ <br /><small>(è€—1èƒ½)</small> </button>
                <button class="btn-action btn-purple" id="btnBazooka" onclick="prepareAttack('bazooka')" disabled> ğŸš€ å¤§ç ²<br /><small>(è€—3èƒ½)</small> </button>
            </div>
            <div id="targetSelector" style="display: none; margin-top: 15px">
                <p>è¦æ”»æ“Šèª°ï¼Ÿ</p>
                <div id="targetButtons"></div>
                <button class="btn-small" onclick="cancelAttack()">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
    <script>
        // åœ¨é€™è£¡åŠ å…¥ä¸€æ®µå°è…³æœ¬ï¼Œç•¶é é¢è¼‰å…¥æ™‚è‡ªå‹•åˆå§‹åŒ–éŠæˆ²
        window.onload = function() {
            // è§£æç¶²å€åƒæ•¸ (ä¾‹å¦‚ ?playerName=é¾å¾·&botCount=3)
            const urlParams = new URLSearchParams(window.location.search);
            const pName = urlParams.get('playerName') || 'ç©å®¶';
            const bCount = parseInt(urlParams.get('botCount')) || 3;
            
            // å‘¼å«åŸæœ¬ script.js è£¡çš„åˆå§‹åŒ–å‡½æ•¸ (éœ€ä¿®æ”¹ script.js ä»¥æ¥å—åƒæ•¸)
            // å‡è¨­åŸæœ¬æ˜¯ initGame()ï¼Œç¾åœ¨å¯èƒ½éœ€è¦æ”¹æˆ initGame(pName, bCount)
            if(typeof initGame === 'function') {
                initGame(pName, bCount); 
            }
        };
    </script>

</body>
</html>
